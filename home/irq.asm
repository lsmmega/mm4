IRQ:
	.ORG $C149

	PHP
	PHA
	TXA
	PHA
	TYA
	PHA
	STA $E000
	STA $E001
	JMP ($009C)
	LDA PPU_STATUS
	LDA #$28
	STA PPU_ADDRESS
	LDA #$80
	STA PPU_ADDRESS
	LDA $5E
	STA PPU_SCROLL
	LDA #$00
	STA PPU_SCROLL
	LDA $FF
	ORA #$02
	STA PPU_CTRL
	LDA #$BE
	SEC
	SBC $5C
	STA $C000
	LDA #$89
	STA $9C
	LDA #$C1
	STA $9D
	JMP label_1
	LDA PPU_STATUS
	LDA #$23
	STA PPU_ADDRESS
	LDA #$00
	STA PPU_ADDRESS
	LDA #$00
	STA PPU_SCROLL
	STA PPU_SCROLL
	LDA $FF
	AND #$FC
	STA PPU_CTRL
	JMP label_2
	LDA PPU_STATUS
	LDA #$21
	STA PPU_ADDRESS
	LDA #$00
	STA PPU_ADDRESS
	LDA #$00
	STA PPU_SCROLL
	STA PPU_SCROLL
	LDA #$A0
	SEC
	SBC $5C
	STA $C000
	LDA #$D0
	STA $9C
	LDA #$C1
	STA $9D
	JMP label_1
	LDA PPU_STATUS
	LDA #$22
	STA PPU_ADDRESS
	LDA #$80
	STA PPU_ADDRESS
	JMP label_3
	LDA PPU_STATUS
	LDA #$80
	LDY #$22
	BNE label_4
	LDA PPU_STATUS
	LDA $66
	LSR
	LSR
	LSR
	AND #$1F
	ORA #$00
	LDY #$23
	STY PPU_ADDRESS
	STA PPU_ADDRESS
	LDA $FF
	STA PPU_CTRL
label_3
	LDA $66
	STA PPU_SCROLL
	LDA $65
	STA PPU_SCROLL
	JMP label_2
	LDA PPU_STATUS
	LDA $66
	LSR
	LSR
	LSR
	AND #$1F
	ORA #$E0
	LDY #$21
	STY PPU_ADDRESS
	STA PPU_ADDRESS
	LDA $FF
	STA PPU_CTRL
	LDA $66
	STA PPU_SCROLL
	LDA $65
	STA PPU_SCROLL
	JMP label_2
	LDA PPU_STATUS
	LDA #$40
	LDY #$22
label_4
	STY PPU_ADDRESS
	STA PPU_ADDRESS
	LDA $FF
	STA PPU_CTRL
	LDA #$00
	STA PPU_SCROLL
	STA PPU_SCROLL
	JMP label_2
	CLC
	LDA PPU_STATUS
	LDA $66
	EOR #$FF
	ADC #$01
	STA PPU_SCROLL
	LDA #$00
	STA PPU_SCROLL
	LDA $67
	EOR #$FF
	ADC #$00
	AND #$01
	ORA $FF
	STA PPU_CTRL
	LDA #$4F
	STA $C000
	LDA #$81
	STA $9C
	LDA #$C2
	STA $9D
	JMP label_1
	LDA PPU_STATUS
	LDA $66
	STA PPU_SCROLL
	LDA $FF
	ORA $67
	STA PPU_CTRL
	LDA #$2F
	STA $C000
	LDA #$42
	STA $9C
	LDA #$C2
	STA $9D
	JMP label_1
	LDA PPU_STATUS
	LDA #$00
	LDY #$28
	STY PPU_ADDRESS
	STA PPU_ADDRESS
	LDA $FF
	ORA #$01
	STA PPU_CTRL
	LDA #$00
	STA PPU_SCROLL
	STA PPU_SCROLL
	JMP label_2
	LDA PPU_STATUS
	LDA #$00
	LDY #$23
	STY PPU_ADDRESS
	STA PPU_ADDRESS
	LDA $FF
	STA PPU_CTRL
	LDA #$00
	STA PPU_SCROLL
	STA PPU_SCROLL
	JMP label_2
	LDA PPU_STATUS
	LDA $FF
	STA PPU_CTRL
	LDA $FC
	STA PPU_SCROLL
	LDA $FA
	STA PPU_SCROLL
	LDA #$28
	STA $C000
	LDA #$FE
	STA $9C
	LDA #$C2
	STA $9D
	JMP label_1
	LDA PPU_STATUS
	LDA $FF
	STA PPU_CTRL
	LDA #$00
	STA PPU_SCROLL
	STA PPU_SCROLL
label_2
	STA $E000
label_1
	PLA
	TAY
	PLA
	TAX
	PLA
	PLP
	RTI
	ASL $A858
	CPX #$E9
	.HEX 0F
	AND $52,X
	LDY #$BF
	INC $C3DC,X
	CMP ($C1,X)
	CMP ($C1,X)
	.HEX C2
	.HEX C2
	.HEX C2
	.HEX C2
	.HEX C2
	.HEX C2
	.HEX C2
